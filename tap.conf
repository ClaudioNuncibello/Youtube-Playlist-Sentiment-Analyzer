input {
  http {
    id => "tap_http_in"
    port => 9090
  }
}

filter {
  if [http][method] != "POST" {
    drop {}
  }
  mutate {
    remove_field => ["@version", "http", "url", "user_agent", "host", "event"]
    rename => { "@timestamp" => "created_at" }
  }
}

output {
  kafka {
    codec => json
    topic_id => "myProjet"
    bootstrap_servers => "kafkaserver:9092"
  }
}